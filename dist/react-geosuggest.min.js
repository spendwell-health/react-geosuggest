!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.Geosuggest=e()}}(function(){return function e(t,s,i){function n(u,g){if(!s[u]){if(!t[u]){var a="function"==typeof require&&require;if(!g&&a)return a(u,!0);if(o)return o(u,!0);var r=new Error("Cannot find module '"+u+"'");throw r.code="MODULE_NOT_FOUND",r}var c=s[u]={exports:{}};t[u][0].call(c.exports,function(e){var s=t[u][1][e];return n(s?s:e)},c,c.exports,e,t,s,i)}return s[u].exports}for(var o="function"==typeof require&&require,u=0;u<i.length;u++)n(i[u]);return n}({1:[function(e,t){"use strict";var s=e("react"),i=e("./GeosuggestItem"),n=s.createClass({displayName:"Geosuggest",getDefaultProps:function(){return{fixtures:[],initialValue:"",placeholder:"Search places",className:"",onSuggestSelect:function(){},location:null,radius:0,defaultIconClass:"",googleMaps:google&&google.maps}},getInitialState:function(){return{isSuggestsHidden:!0,userInput:this.props.initialValue,activeSuggest:null,suggests:[],geocoder:new this.props.googleMaps.Geocoder,autocompleteService:new this.props.googleMaps.places.AutocompleteService}},onInputChange:function(){var e=this.refs.geosuggestInput.getDOMNode().value;this.setState({userInput:e},function(){this.showSuggests()}.bind(this))},searchSuggests:function(){return this.state.userInput?void this.state.autocompleteService.getPlacePredictions({input:this.state.userInput,location:this.props.location||new this.props.googleMaps.LatLng(0,0),radius:this.props.radius,componentRestrictions:{country:"usa"}},function(e){this.updateSuggests(e)}.bind(this)):void this.updateSuggests()},updateSuggests:function(e){e||(e=[]);{var t=[];new RegExp(this.state.userInput,"gim")}this.props.fixtures.forEach(function(e){e.placeId=e.label,t.push(e)}),e.forEach(function(e){t.push({label:e.description.replace(", United States",""),placeId:e.place_id})}),this.setState({suggests:t})},showSuggests:function(){this.searchSuggests(),this.setState({isSuggestsHidden:!1})},hideSuggests:function(){setTimeout(function(){this.setState({isSuggestsHidden:!0})}.bind(this),100)},onInputKeyDown:function(e){switch(e.which){case 40:e.preventDefault(),this.activateSuggest("next");break;case 38:e.preventDefault(),this.activateSuggest("prev");break;case 13:this.selectSuggest(this.state.activeSuggest);break;case 9:this.selectSuggest(this.state.activeSuggest);break;case 27:this.hideSuggests()}},activateSuggest:function(e){if(this.state.isSuggestsHidden)return void this.showSuggests();var t=this.state.suggests.length-1,s="next"===e,i=null,n=0,o=0;for(o;t>=o;o++)this.state.suggests[o]===this.state.activeSuggest&&(n=s?o+1:o-1);this.state.activeSuggest||(n=s?0:t),n>=0&&t>=n&&(i=this.state.suggests[n]),this.setState({activeSuggest:i})},selectSuggest:function(e){return e||(e=this.state.userInput&&this.state.suggests.length>0?this.state.suggests[0]:{label:this.state.userInput}),this.setState({isSuggestsHidden:!0,userInput:e.label}),e.location?void this.props.onSuggestSelect(e):void this.geocodeSuggest(e)},geocodeSuggest:function(e){this.state.geocoder.geocode({address:e.label},function(t,s){if(s===this.props.googleMaps.GeocoderStatus.OK){var i=t[0],n=i.geometry.location;e.gmaps=i,e.location={lat:n.lat(),lng:n.lng()},this.props.onSuggestSelect(e)}}.bind(this))},render:function(){return s.createElement("div",{className:"geosuggest "+this.props.className,onClick:this.onClick},s.createElement("input",{className:"geosuggest__input",ref:"geosuggestInput",type:"text",value:this.state.userInput,placeholder:this.props.placeholder,onKeyDown:this.onInputKeyDown,onChange:this.onInputChange,onFocus:this.showSuggests,onBlur:this.hideSuggests}),s.createElement("ul",{className:this.getSuggestsClasses()},this.getSuggestItems()))},getSuggestItems:function(){return this.state.suggests.map(function(e){var t=this.state.activeSuggest&&e.placeId===this.state.activeSuggest.placeId;return s.createElement(i,{key:e.placeId,suggest:e,isActive:t,onSuggestSelect:this.selectSuggest,classDecorations:this.itemClassDecorations(e)})}.bind(this))},itemClassDecorations:function(e){var t=this.props.fixtures,s="";return s+=t.indexOf(e)+1===t.length?" border-bottom":"",s+="undefined"!=typeof e.iconClass?" "+e.iconClass:" "+this.props.defaultIconClass},getSuggestsClasses:function(){var e="geosuggest__suggests";return e+=this.state.isSuggestsHidden?" geosuggest__suggests--hidden":""}});t.exports=n},{"./GeosuggestItem":2,react:void 0}],2:[function(e,t){"use strict";var s=e("react"),i=s.createClass({displayName:"GeosuggestItem",getDefaultProps:function(){return{isActive:!1,suggest:{label:"",iconClass:""},onSuggestSelect:function(){}}},onClick:function(e){e.preventDefault(),this.props.onSuggestSelect(this.props.suggest)},render:function(){return s.createElement("li",{className:this.getSuggestClasses(),onClick:this.onClick},this.props.suggest.label)},getSuggestClasses:function(){var e="geosuggest-item";return e+=this.props.isActive?" geosuggest-item--active":"",e+=this.props.classDecorations?" "+this.props.classDecorations:"",e+=" "+this.props.suggest.iconClass}});t.exports=i},{react:void 0}]},{},[1])(1)});